<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Reserve</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>

<body>

		<div class="container">
				<div class="jumbotron">
					<div class="text-center">
					<h1>Make a Reservation</h1>
					<hr>
				
					</div>
					
					<div class="text-center">
					<a href="/tables"><button class="btn btn-primary btn-lg"><span class="fa fa-eye"></span>View Tables</button></a>
					<a href="/home"><button class="btn btn-danger btn-lg"><span class="fa fa-plus"></span>Home</button></a>
					</div>
				</div>

	



		<div class="row">
			<div class="col-sm-12">
				<br>
				
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h3 class="panel-title">
							<strong>
								<i class="fa  fa-list-alt"></i>Reservations</strong>
						</h3>
					</div>
					<div class="panel-body">

						<form role="form">

							
							<div class="form-group">
								<label for="search">Name:</label>
								<input type="text" class="form-control" id="search-term">
							</div>

							
							<div class="form-group">
								<label for="pwd">Phone Number:</label>
								<input type="text" class="form-control" id="search-term">
							</div>

							
							<div class="form-group">
								<label for="start-year">Email:</label>
								<input type="text" class="form-control" id="start-year">
							</div>

							
							<div class="form-group">
								<label for="end-year">Unique ID:</label>
								<input type="text" class="form-control" id="end-year">
							</div>

						
							<button type="submit" class="btn btn-default" id="run-search">
							Search</button>		

						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
				<a href="/api">API Link Table</a> | 
				<a href="/api-wait">API Waitlist</a> |
				<a href="/git-repo">GitHub Repo</a>
			</div>
			</div>
	</div>

<script>
	 $(".submit").on("click", function(event) {
      event.preventDefault();

     
      var newReservation = {
        customerName: $("#reserve-name").val().trim(),
        phoneNumber: $("#reserve-phone").val().trim(),
        customerEmail: $("#reserve-email").val().trim(),
        customerID: $("#reserve-unique-id").val().trim()
	  };
	  console.log(newReservation);

$.post("/api/tables", newReservation,
  function(data) {

	if (data) {
	  alert("You are booked");
	}
	else {
	  alert("You are on the waitlist, we will call you if a table becomes avaialable");
	}


	$("#reserve-name").val("");
	$("#reserve-phone").val("");
	$("#reserve-email").val("");
	$("#reserve-unique-id").val("");

  });

});
</script>